<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml"
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="content">
        <div class="Container100 ui-fluid">
            <div class="Card">



                <h:form>

                    <div class="CardTopic">
                        <p:outputPanel styleClass="Fleft">
                            <p:link outcome="listado"><i class="Leaden Fs16 fa fa-arrow-left"></i> <span class="Leaden Fs16 FontVoltRegular">Atras</span></p:link>
                        </p:outputPanel>

                        <div class="EmptyBox20"></div>
                        Datos Personales
                    </div>


                    <div class="Separator"></div>
                    <div class="EmptyBox20"></div>



                    <p:panelGrid columns="4" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                        <p:outputLabel value="Nombre y Apellido" for="nombre"  styleClass="panelDatos"/>
                        <p:inputText value="#{curriculoBean.actual.nombres}" required="true" id="nombre" styleClass="panelDatos"/>


                        <p:outputLabel value="Sexo" for="sexo" styleClass="panelDatos"/>
                        <p:selectOneMenu value="#{curriculoBean.actual.sexo}" required="true" id="sexo" styleClass="panelDatos">
                            <f:selectItems value="#{productorEnums.obtSexo()}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Estado Civil" for="estadoCivil" styleClass="panelDatos"/>

                        <p:selectOneMenu value="#{curriculoBean.actual.estadoCivil}" required="true" id="estadoCivil" styleClass="panelDatos">
                            <f:selectItems value="#{estadoCivilBean.itemsAvailableSelectOne}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Cantidad Hijos" for="cantidadHijos" styleClass="panelDatos"/>
                        <p:spinner value="#{curriculoBean.actual.cantidadHijos}" required="true" id="cantidadHijos" min="0" max="15" styleClass="panelDatos"/>


                        <p:outputLabel value="Fecha Nacimiento" for="anioNac" styleClass="panelDatos"/>

                        <h:panelGroup>
                            <div style="display: table; width: 100%">
                                <div style="display: table-cell;width: 20%">
                                    <p:selectOneMenu value="#{curriculoBean.actual.diaNac}" required="true" id="diasNac" styleClass="panelDatos">
                                        <f:selectItems value="#{curriculoBean.selectItemsDias}"/>
                                    </p:selectOneMenu>
                                </div>
                                <div style="display: table-cell;width: 50%">
                                    <p:selectOneMenu value="#{curriculoBean.actual.mesNac}" required="true" id="mesNac" styleClass="panelDatos">
                                        <f:selectItems value="#{curriculoBean.selectItemsMes}"/>
                                    </p:selectOneMenu>
                                </div>
                                <div style="display: table-cell;width: 30%">
                                    <p:selectOneMenu value="#{curriculoBean.actual.anioNac}" required="true" id="anioNac" styleClass="panelDatos">
                                        <f:selectItems value="#{curriculoBean.selectItemsAnios}"/>
                                    </p:selectOneMenu>
                                </div>
                            </div>
                        </h:panelGroup>



                        <p:outputLabel value="Tipo Documento" for="tipoDocumento" styleClass="panelDatos"/>

                        <p:selectOneMenu value="#{curriculoBean.actual.tipoDocumento}" required="true" id="tipoDocumento" styleClass="panelDatos">
                            <f:selectItems value="#{tipoDocumentoBean.itemsAvailableSelectOne}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Documento" for="documento" styleClass="panelDatos"/>
                        <p:inputText value="#{curriculoBean.actual.documento}" required="true" id="documento" styleClass="panelDatos"/>


                        <p:outputLabel value="Dirección" for="direccion" styleClass="panelDatos"/>
                        <p:inputText value="#{curriculoBean.actual.direccion}" required="true" id="direccion" styleClass="panelDatos"/>



                        <p:outputLabel value="Teléfonos" for="telefonos" />
                        <p:inputText value="#{curriculoBean.actual.telefonos}" required="true" id="telefonos" styleClass="panelDatos"/>


                        <p:outputLabel value="E-mail" for="email" styleClass="panelDatos"/>
                        <p:inputText value="#{curriculoBean.actual.email}"  id="email" styleClass="panelDatos"/>

                        <p:outputLabel value="Nacionalidad" for="nacionalidad" styleClass="panelDatos"/>

                        <p:selectOneMenu value="#{curriculoBean.actual.nacionalidad}" required="true" id="nacionalidad" styleClass="panelDatos">
                            <f:selectItems value="#{nacionalidadBean.itemsAvailableSelectOne}"/>
                        </p:selectOneMenu>


                    </p:panelGrid>


                    <div class="EmptyBox20"></div>

                    <div class="CardTopic">Área a la que se postula</div>
                    <div class="Separator"></div>

                    <div class="EmptyBox20"></div>

                    <p:outputPanel id="panelArea">
                        <p:panelGrid columns="4" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                            <p:outputLabel value="Empresa" for="empresa"/>
                            <p:selectOneMenu value="#{curriculoBean.actual.empresa}"  id="empresa">
                                <f:selectItems value="#{empresaBean.itemsAvailableSelectOne}"/>
                                <p:ajax process="@this" update="area"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Area" for="area"/>
                            <p:selectOneMenu value="#{curriculoBean.actual.area}" id="area">
                                <f:selectItems value="#{curriculoBean.selectItemsAreas}"/>
                            </p:selectOneMenu>
                        </p:panelGrid>
                    </p:outputPanel>

                    <div class="EmptyBox20"></div>



                    <div class="CardTopic">Nivel Académico</div>

                    <div class="Separator"></div>

                    <div class="EmptyBox20"></div>

                    <p:outputPanel id="panelNivel">
                        <p:panelGrid columns="4" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                            <p:outputLabel value="Nivel Académico" for="nivelAcademico"/>
                            <p:selectOneMenu value="#{curriculoBean.actual.nivelAcademico}" required="true" id="nivelAcademico">
                                <f:selectItems value="#{nivelAcademicoBean.itemsAvailableSelectOne}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Estado" for="estadoNivelAcademico"/>
                            <p:selectOneMenu value="#{curriculoBean.actual.estadoNivelAcademico}" required="true" id="estadoNivelAcademico">
                                <f:selectItems value="#{estadoNivelAcademicoBean.itemsAvailableSelectOne}"/>
                            </p:selectOneMenu>  
                        </p:panelGrid>
                    </p:outputPanel>

                    <div class="EmptyBox20"></div>


                    <div class="CardTopic">Experiencias Laborales</div>
                    <div class="Separator"></div>
                    <div class="EmptyBox20"></div>

                    <p:outputPanel id="panelExperienciaLaboral">


                        <div class="ui-grid ui-grid-responsive">
                            <ui:repeat value="#{curriculoBean.actual.experienciasLaborales}" var="ep">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2" style="margin-bottom: 10px"> <p:outputLabel value="Experiencia #{ep.indice}" for="experiencia"/></div>
                                    <div class="ui-grid-col-10"  style="padding-right: 5px;margin-bottom: 10px"><p:inputTextarea value="#{ep.descripcion}" id="experiencia" rows="3"/></div>
                                </div>
                            </ui:repeat>
                        </div>
                    </p:outputPanel>

                    <div class="EmptyBox20"></div>

                    <div class="CardTopic">Referencias Laborales</div>
                    <div class="Separator"></div>
                    <div class="EmptyBox20"></div>

                    <p:outputPanel id="panelReferenciaLaboral">


                        <div class="ui-grid ui-grid-responsive">
                            <ui:repeat value="#{curriculoBean.actual.referenciasLaborales}" var="rl">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2" style="margin-bottom: 10px"> <p:outputLabel value="Referencia #{rl.indice}" for="empresaRL"/></div>
                                    <div class="ui-grid-col-2"  style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{rl.nombreEmpresa}" placeholder="Empresa" id="empresaRL"/></div>
                                    <div class="ui-grid-col-2"  style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{rl.cargo}" placeholder="Cargo"/></div>
                                    <div class="ui-grid-col-2" style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{rl.contactoNombre}" placeholder="Nombre Contacto"/></div>
                                    <div class="ui-grid-col-2"  style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{rl.contactoTelefono}" placeholder="Teléfono Contacto"/></div>
                                </div>
                            </ui:repeat>
                        </div>
                    </p:outputPanel>

                    <div class="EmptyBox20"></div>

                    <div class="CardTopic">Referencias Personales</div>
                    <div class="Separator"></div>
                    <div class="EmptyBox20"></div>


                    <p:outputPanel id="panelReferenciaPersonal">


                        <div class="ui-grid ui-grid-responsive">
                            <ui:repeat value="#{curriculoBean.actual.referenciasPersonales}" var="r">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2" style="margin-bottom: 10px"> <p:outputLabel value="Referencia #{r.indice}" for="contactoRP"/></div>
                                    <div class="ui-grid-col-3" style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{r.contactoNombre}" id="contactoRP" placeholder="Nombre Contacto"/></div>
                                    <div class="ui-grid-col-3"  style="padding-right: 5px;margin-bottom: 10px"><p:inputText value="#{r.contactoTelefono}" placeholder="Teléfono Contacto"/></div>
                                </div>
                            </ui:repeat>
                        </div>
                    </p:outputPanel>

                    <div class="EmptyBox20"></div>

                    <div class="CardTopic">Adjuntar Curriculum</div>
                    <div class="Separator"></div>
                    <div class="EmptyBox20"></div>

                    <p:outputPanel id="panelAdjunto">
                        <div class="ui-grid ui-grid-responsive">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-2">
                                    <p:fileUpload fileUploadListener="#{curriculoBean.handleFileUpload}" mode="advanced"
                                                  rendered="#{(empty curriculoBean.actual.adjunto)}"
                                                  label="Elegir Archivo"
                                                  update="panelAdjunto panelArchivo" auto="true" sizeLimit="2000000" allowTypes="/(\.|\/)(pdf|doc|docx)$/" />
                                </div>

                                <div class="ui-grid-col-10 TexAlCenter">
                                    <p:outputPanel rendered="#{(empty curriculoBean.actual.adjunto)}" styleClass="TexAlCenter">
                                        <i class="icon-info Leaden Fs26"/><span class="Leaden Fs18" style="margin-left: 20px">El tamaño máximo de archivo que puede adjuntar es de 2MB!</span>
                                    </p:outputPanel>

                                </div>
                            </div>
                        </div>
                    </p:outputPanel>
                    <p:outputPanel id="panelArchivo">

                        <div class="ui-grid ui-grid-responsive">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-2">
                                    <p:outputPanel rendered="#{not(empty curriculoBean.actual.adjunto)}">
                                        <a href="#{request.contextPath}/DownloadServlet?nombre=#{curriculoBean.actual.nombreAdjunto}&amp;nombreCorto=#{curriculoBean.actual.nombres}-Curriculum"><i class="icon-paperclip Blue Fs20"/><span class="FontVoltBold Fs16 Blue">#{curriculoBean.actual.adjunto}</span></a>
                                    </p:outputPanel>


                                </div>


                            </div>
                        </div>

                    </p:outputPanel>

                    <div class="EmptyBox20"></div>


                    <div class="CardFooter">
                        <div class="ui-grid ui-grid-responsive">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-2">
                                    <p:commandButton value="Enviar" action="#{curriculoBean.guardar()}" styleClass="GreenButton" update="panelNivel panelArea panelExperienciaLaboral panelReferenciaLaboral panelReferenciaPersonal @(.panelDatos)"
                                                     icon="fa fa-send"/>
                                </div>
                            </div>
                        </div>
                    </div>



                </h:form>

            </div>
        </div>

    </ui:define>
</ui:composition>

